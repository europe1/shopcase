(window.webpackJsonpshopcase=window.webpackJsonpshopcase||[]).push([[0],{124:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAAAcCAYAAABVj5w5AAABKGlDQ1BBZG9iZSBSR0IgKDE5OTgpAAAoz2NgYDJwdHFyZRJgYMjNKykKcndSiIiMUmA/z8DGwMwABonJxQWOAQE+IHZefl4qAypgZGD4dg1EMjBc1gWZxUAa4EouKCoB0n+A2CgltTgZaKQBkJ1dXlIAFGecA2SLJGWD2RtA7KKQIGcg+wiQzZcOYV8BsZMg7CcgdhHQE0D2F5D6dDCbiQNsDoQtA2KXpFaA7GVwzi+oLMpMzyhRMLS0tFRwTMlPSlUIriwuSc0tVvDMS84vKsgvSixJTQGqhbgPDAQhCkEhpgHUaKHJQGUAigcI63MgOHwZxc4gxBAgubSoDBYXTMaE+Qgz5kgwMPgvZWBg+YMQM+llYFigw8DAPxUhpmbIwCCgz8Cwbw4AwrNP/sZG7OUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAaFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMDgtMjhUMTE6MzY6MzQrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMDgtMjhUMTE6MzY6MzQrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTA4LTI4VDExOjM2OjM0KzAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYwODQyYzY2LTU4MjItOTQ0NC1hOTU5LTcwNTMzY2E1ZTMzMiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmUzZTcxMDc3LWM4ZDQtNWE0Ny1hNjVmLWFlYTA4NmUwN2ViMyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjNjYTI3OThkLWFlZDQtMWU0OS04MjM0LTdhMjUyZGVkZjdmNCIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozY2EyNzk4ZC1hZWQ0LTFlNDktODIzNC03YTI1MmRlZGY3ZjQiIHN0RXZ0OndoZW49IjIwMTktMDgtMjhUMTE6MzY6MzQrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjA4NDJjNjYtNTgyMi05NDQ0LWE5NTktNzA1MzNjYTVlMzMyIiBzdEV2dDp3aGVuPSIyMDE5LTA4LTI4VDExOjM2OjM0KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpCYWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU2hvcGNhc2UiIHBob3Rvc2hvcDpMYXllclRleHQ9IlNob3BjYXNlIi8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7v4UnYAAAD+ElEQVRo3u1a263jIBBNC/7On1twC7TgFmiBFtwCLbgFWqAFt0AL3kQCiTt3XmDvrpSAhLR3AxiGw8w5A49HVZ7P5/Sq7lXjq55EPXKb+YGU1//bVw1VXR6jfEZ5b2YGwKms6Q0IZBwH2plh3c8AyJQ3/eyo6wDJd4DEYV7iDR7Qbs0h5Ef4GSD5DpDElo1FgLIOkHw+SH6EEEX7FfRxAyRfBhJKuVTtZ6BgRJBUqqdWSV76VtV3B7yp9DeCxyvVVgTdA5L+9qQbDK/EmAbpn/L8bEP/UI1x5L83YT1TZQv4/ZBtPyn4p0OiAd8f6bBrDKbkN6sgqU/KuHlDo4I8B2y+0Nshc8MU28KsbbswlwmxM1X9BfVJriEDLCn6G6ozlg/ZWsMFQYI1C5sQb9WiuCIyBvz97DVyPv1X5hKIdoHYfAf6H8g8A9E/QQ+NUIQm1UqRV2xBHlM9AkjKpF12tSb/OwlGCQhorTDGJoTR4iUXYDy49iAYOJUDpJlL9gKst8njoKoR+b5X2H1jDlyqQ0v+3UkHt7jD2IC0nThxTnkyoffaGYNFwoUvyOZMDEg8E6cPipchvxnFXFK1CdAmiybst4oBsH+BCZOr8oA7jiS2ZF6tFtECZwiMazcNnsv2EHIEtK46ZSiYFSFprcYoXsdogcqs0TMc7td3IEkX6IK6bfmgQ5g0G79aJDADkvpEJMU8KTd7NhhnxjYCAY99XCx5E21FpneMfzFzqzljCeMTAz7olR1TI+WZtal7SxCw42aQkPzgX49zV94nb3QL+T07lFWEMhYJ3a3V9J4ES7nyARLS2yWFKIhcUlMpYct4820g4WJ6Tyr/JpAc1N2QNky0goTiHneEG8RWHgsRFHElwlUJU5TYCNS6at6iqFMT0RQk6p0g2a8SToK4tkh3R3Ae30KiORBLYOqgAonw7klNRpUnKClTu+cVuSaAxGoUhUK6npoDQIyzEJ4tYaCl5oK4e6fch7PDw2zEwfVKCU0rOcQrRGGgyOQ4LoOEyE3sAACGmweTTNsU40TBQ0Sg6BYqIYcl0pQ2PVtTAki7mXEERjEHoyFWCVySRYkB3wiSVsKVhLT8JUbfmGhMjCeqn4CS8heAZBEyvisCEOmdT32xGFWJRwUD702mdYGkkc0fRFYXpsJ963o6MtK/MszKe5OIhIu5UQJLWW737LxghIbYlDeFnojNt4EE5BcS8yh7apS0B3F7uyg4HNU/cc8NiLBWh8CpevlXqunIhu/CTbZhvFegUvactrdIRu6/PSICaWfNOxQunC0/ZF4f4S/9l85+5oId4N6obELZYDymUibTRhkgGSAZZYBklAGSUf4SSGqlsA2L9JU/ho29OUc9F+IAAAAASUVORK5CYII="},127:function(e,t,a){e.exports=a(306)},132:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(115),o=a.n(s),r=a(34),l=(a(132),a(72)),c=a.n(l),h=a(4),p=a(6),u=a(7),d=a(12),m=a(11),b=a(13),v=a(116),f=a(20),O=a(14),j=a(28),g=a(117),y=a(50),E=a(0),C=a(75),k=a(76),w=a(126),M=a(120),N=a(121),A=a(122),I=a(77),D=a(123),S="[default]",V=["map","aoMap","emissiveMap","glossinessMap","metalnessMap","normalMap","roughnessMap","specularMap"],x=function(){function e(t,a){Object(p.a)(this,e),this.el=t,this.textureLoader=new E.Lb,this.lights=[],this.content=null,this.mixer=null,this.clips=[],this.gui=null,this.state={background:!1,playbackSpeed:1,actionStates:{},camera:S,wireframe:!1,skeleton:!1,grid:!1,addLights:!0,exposure:1,textureEncoding:"sRGB",ambientIntensity:.3,ambientColor:16777215,directIntensity:.8*Math.PI,directColor:16777215,bgColor1:"#fdcbf1",bgColor2:"#e6dee9"},this.prevTime=0,this.scene=new E.Cb;switch(this.defaultCamera=new E.lb(75,t.clientWidth/t.clientHeight,.01,1e3),this.activeCamera=this.defaultCamera,this.scene.add(this.defaultCamera),this.renderer=new E.cc({antialias:!0,canvas:t}),this.renderer.physicallyCorrectLights=!0,this.renderer.gammaOutput=!0,this.renderer.gammaFactor=2.2,this.renderer.setClearColor(3355443),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(t.clientWidth,t.clientHeight,!1),a.type){case"ORBIT":this.controls=new D.a(this.defaultCamera,this.el),this.controls.rotateSpeed=.5,this.controls.screenSpacePanning=!0,this.controls.enableDamping=!0,this.controls.dynamicDampingFactor=.13;break;case"EDITOR":this.controls=new I.a(this.defaultCamera,this.el),this.controls.mouseButtons.LEFT=E.W.PAN,this.controls.mouseButtons.RIGHT=E.W.ROTATE,this.controls.rotateSpeed=2,this.controls.dynamicDampingFactor=1,this.controls.zoomSpeed=1,this.controls.noPan=!0;break;default:this.controls=new I.a(this.defaultCamera,this.el),this.controls.dynamicDampingFactor=.13,this.controls.noPan=!0}this.cameraCtrl=null,this.cameraFolder=null,this.animFolder=null,this.animCtrls=[],this.morphFolder=null,this.morphCtrls=[],this.skeletonHelpers=[],this.gridHelper=null,this.axesHelper=null,A.a.init(),this.animate=this.animate.bind(this),requestAnimationFrame(this.animate),window.addEventListener("resize",this.resize.bind(this),!1)}return Object(u.a)(e,[{key:"animate",value:function(e){requestAnimationFrame(this.animate);var t=(e-this.prevTime)/1e3;this.controls.update(),this.mixer&&this.mixer.update(t),this.render(),this.prevTime=e}},{key:"render",value:function(){this.renderer.render(this.scene,this.activeCamera)}},{key:"resize",value:function(){var e=this.el,t=e.clientHeight,a=e.clientWidth;this.defaultCamera.aspect=a/t,this.defaultCamera.updateProjectionMatrix(),this.renderer.setSize(a,t,!1)}},{key:"load",value:function(e,t,a){var n=this,i=E.U.extractUrlBase(e);return new Promise(function(s,o){var r=new E.V;r.setURLModifier(function(e,n){var s=t+e.replace(i,"").replace(/^(\.?\/)/,"");if(a.has(s)){var o=a.get(s),r=URL.createObjectURL(o);return c.push(r),r}return(n||"")+e});var l=new C.a(r);l.setCrossOrigin("anonymous");var c=[];l.load(e,function(e){var t=e.scene||e.scenes[0],a=e.animations||[];n.setContent(t,a),c.forEach(URL.revokeObjectURL),s(e)},void 0,o)})}},{key:"sload",value:function(e){var t=this;return new Promise(function(a,n){var i=new C.a;k.a.setDecoderPath("draco"),i.setDRACOLoader(new k.a),i.load(e,function(e){var n=e.scene||e.scenes[0],i=e.animations||[];t.setContent(n,i),a(e)},void 0,n)})}},{key:"setContent",value:function(e,t){var a=this;this.clear();var n=(new E.g).setFromObject(e),i=n.getSize(new E.Xb).length(),s=n.getCenter(new E.Xb);this.controls.reset(),e.position.x+=e.position.x-s.x,e.position.y+=e.position.y-s.y,e.position.z+=e.position.z-s.z,this.controls.maxDistance=10*i,this.defaultCamera.near=i/100,this.defaultCamera.far=100*i,this.defaultCamera.updateProjectionMatrix(),this.defaultCamera.position.copy(s),this.defaultCamera.position.x+=i/2,this.defaultCamera.position.y+=i/5,this.defaultCamera.position.z+=i/2,this.defaultCamera.lookAt(s),this.setCamera(S),this.scene.add(e),this.content=e,this.state.addLights=!0,this.content.traverse(function(e){e.isLight&&(a.state.addLights=!1)}),this.setClips(t),this.updateLights(),this.updateTextureEncoding(),this.updateDisplay()}},{key:"printGraph",value:function(e){var t=this;console.group(" <"+e.type+"> "+e.name),e.children.forEach(function(e){return t.printGraph(e)}),console.groupEnd()}},{key:"setClips",value:function(e){this.mixer&&(this.mixer.stopAllAction(),this.mixer.uncacheRoot(this.mixer.getRoot()),this.mixer=null),this.clips=e,e.length&&(this.mixer=new E.c(this.content))}},{key:"playAllClips",value:function(){var e=this;this.clips.forEach(function(t){e.mixer.clipAction(t).reset().play(),e.state.actionStates[t.name]=!0})}},{key:"setCamera",value:function(e){var t=this;e===S?(this.controls.enabled=!0,this.activeCamera=this.defaultCamera):(this.controls.enabled=!1,this.content.traverse(function(a){a.isCamera&&a.name===e&&(t.activeCamera=a)}))}},{key:"updateTextureEncoding",value:function(){var e="sRGB"===this.state.textureEncoding?E.dc:E.O;this.traverseMaterials(this.content,function(t){t.map&&(t.map.encoding=e),t.emissiveMap&&(t.emissiveMap.encoding=e),(t.map||t.emissiveMap)&&(t.needsUpdate=!0)})}},{key:"updateLights",value:function(){var e=this.state,t=this.lights;e.addLights&&!t.length?this.addLights():!e.addLights&&t.length&&this.removeLights(),this.renderer.toneMappingExposure=e.exposure,2===t.length&&(t[0].intensity=e.ambientIntensity,t[0].color.setHex(e.ambientColor),t[1].intensity=e.directIntensity,t[1].color.setHex(e.directColor))}},{key:"addLights",value:function(){var e=new E.zb(16777215,1.3,3,4);e.name="areaLight",e.position.set(0,0,1),e.lookAt(0,0,0);var t=new E.a(16777215,1);this.defaultCamera.add(t),this.lights.push(t);var a=new E.Ab(e);e.add(a),this.defaultCamera.add(e),this.lights.push(e)}},{key:"removeLights",value:function(){this.lights.forEach(function(e){return e.parent.remove(e)}),this.lights.length=0}},{key:"setEnvironment",value:function(e,t){var a=this;this.getCubeMapTexture(e,t).then(function(e){var t=e.envMap,n=e.cubeMap;a.state.background&&a.activeCamera===a.defaultCamera?a.scene.add(a.background):a.scene.remove(a.background),a.traverseMaterials(a.content,function(e){(e.isMeshStandardMaterial||e.isGLTFSpecularGlossinessMaterial)&&(e.envMap=t,e.needsUpdate=!0)}),a.scene.background=a.state.background?n:null})}},{key:"getCubeMapTexture",value:function(e,t){var a=this;if(!e)return Promise.resolve({envMap:null,cubeMap:null});var n=[e+"posx"+t,e+"negx"+t,e+"posy"+t,e+"negy"+t,e+"posz"+t,e+"negz"+t];if(".hdr"===t)return new Promise(function(e){(new w.a).load(E.Vb,n,function(t){var n=new M.a(t);n.update(a.renderer);var i=new N.a(n.cubeLods);i.update(a.renderer),e({envMap:i.CubeUVRenderTarget.texture,cubeMap:t})})});var i=(new E.m).load(n);return i.format=E.wb,Promise.resolve({envMap:i,cubeMap:i})}},{key:"updateDisplay",value:function(){var e=this;this.skeletonHelpers.length&&this.skeletonHelpers.forEach(function(t){return e.scene.remove(t)}),this.traverseMaterials(this.content,function(t){t.wireframe=e.state.wireframe}),this.content.traverse(function(t){if(t.isMesh&&t.skeleton&&e.state.skeleton){var a=new E.Gb(t.skeleton.bones[0].parent);a.material.linewidth=3,e.scene.add(a),e.skeletonHelpers.push(a)}}),this.state.grid!==Boolean(this.gridHelper)&&(this.state.grid?(this.gridHelper=new E.z,this.axesHelper=new E.d,this.axesHelper.renderOrder=999,this.axesHelper.onBeforeRender=function(e){return e.clearDepth()},this.scene.add(this.gridHelper),this.scene.add(this.axesHelper)):(this.scene.remove(this.gridHelper),this.scene.remove(this.axesHelper),this.gridHelper=null,this.axesHelper=null))}},{key:"updateBackground",value:function(){this.background.style({colors:[this.state.bgColor1,this.state.bgColor2]})}},{key:"clear",value:function(){this.content&&(this.scene.remove(this.content),this.content.traverse(function(e){e.isMesh&&e.geometry.dispose()}),this.traverseMaterials(this.content,function(e){V.forEach(function(t){e[t]&&e[t].dispose()})}))}},{key:"traverseMaterials",value:function(e,t){e.traverse(function(e){e.isMesh&&(Array.isArray(e.material)?e.material:[e.material]).forEach(t)})}}]),e}(),T=a(124),R=a.n(T),G=(a(302),a(303),{0:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",1:"\u0426\u0432\u0435\u0442"}),U="http://localhost/manager/";function F(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(c.a.mark(function e(t){var a,n,i=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=i.length>1&&void 0!==i[1]?i[1]:{}).credentials="include",e.next=4,fetch(U+t,a);case 4:return n=e.sent,e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Y=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"sidebar"},i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:R.a,alt:"Shopcase"})),i.a.createElement("div",{className:"nav"},i.a.createElement(L,{text:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b",url:"/objects/",icon:O.b}),i.a.createElement(L,{text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",url:"/options/",icon:O.f}),i.a.createElement(L,{text:"\u0412\u044b\u0439\u0442\u0438",url:"/logout/",icon:O.k})))}}]),t}(i.a.Component),L=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(j.a,{path:this.props.url,children:function(t){var a=t.match;return i.a.createElement("div",{className:"nav-el"},i.a.createElement(r.b,{to:e.props.url,className:"nav-link"+(a?" selected":"")},i.a.createElement("span",{className:"nav-icon"},i.a.createElement(f.a,{icon:e.props.icon})),i.a.createElement("span",{className:"nav-link-text"},e.props.text)))}})}}]),t}(i.a.Component),z=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"modal-background",onClick:function(){return e.props.setVisible(!1)}},i.a.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:"modal-top"},i.a.createElement("span",{onClick:function(){return e.props.setVisible(!1)}},i.a.createElement(f.a,{className:"modal-close",icon:O.i}))),i.a.createElement("div",{className:"modal-content"},this.props.children)))}}]),t}(i.a.Component),B=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"col add-button-region"},i.a.createElement("div",null,i.a.createElement("button",{className:"button button-primary button-add",onClick:this.props.action},i.a.createElement(f.a,{icon:O.g}),i.a.createElement("span",{className:"add-button-text"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))}}]),t}(i.a.Component),H=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("tr",{className:"table-row"},i.a.createElement("td",null,this.props.object.c1),i.a.createElement("td",null,this.props.object.c2),i.a.createElement("td",null,this.props.object.c3),i.a.createElement("td",null,i.a.createElement("button",{className:"button button-delete",onClick:function(){return e.props.delFunc(e.props.index)}},i.a.createElement(f.a,{icon:O.j}))))}}]),t}(i.a.Component),P=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={modalVisible:!1},a.deleteEl=a.deleteEl.bind(Object(h.a)(a)),a.setModalVisible=a.setModalVisible.bind(Object(h.a)(a)),a.confirmDel=a.confirmDel.bind(Object(h.a)(a)),a.delIndex=0,a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"confirmDel",value:function(e){this.setModalVisible(!0),this.delIndex=e}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"deleteEl",value:function(){this.setModalVisible(!1),this.props.onDelete(this.delIndex)}},{key:"render",value:function(){var e=this,t=this.props.headers.map(function(e,t){return i.a.createElement("th",{key:t},e)}),a=this.props.items.map(function(t,a){return i.a.createElement(H,{key:t.id,index:a,object:t.getTableObject(),delFunc:e.confirmDel})});return i.a.createElement("div",null,this.state.modalVisible?i.a.createElement(z,{setVisible:this.setModalVisible},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e",i.a.createElement("br",null),"\u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043e\u0431\u044a\u0435\u043a\u0442?",i.a.createElement("div",{className:"button-row"},i.a.createElement("button",{className:"button button-secondary",onClick:this.deleteEl},"\u0414\u0430"),i.a.createElement("button",{className:"button button-primary",onClick:function(){return e.setModalVisible(!1)}},"\u041d\u0435\u0442"))):null,i.a.createElement("table",{className:"table"},i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-header"},t),a)))}}]),t}(i.a.Component),Q=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t="\u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432",a=""+this.props.objCount,n=parseInt(a[a.length-1],10);return 1===n?t="\u043e\u0431\u044a\u0435\u043a\u0442":n>1&&n<5&&(t="\u043e\u0431\u044a\u0435\u043a\u0442\u0430"),i.a.createElement("div",{className:"row cat-top"},i.a.createElement("div",{className:"col"},i.a.createElement("span",{className:"cat-name"},this.props.catName),i.a.createElement("span",{className:"obj-count"},this.props.objCount," ",t)),i.a.createElement(B,{action:function(){return e.props.setModalVisible(!0)}}))}}]),t}(i.a.Component),W=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"option-preview"},i.a.createElement("span",{className:"option-thumb",style:"0"===this.props.option.type?{backgroundImage:"url("+U+this.props.option.value+")"}:{backgroundColor:"rgba("+this.props.option.value+")"}}),this.props.option.name)}}]),t}(i.a.Component),J=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={tooltipVisible:!1},a.setTooltipVisible=a.setTooltipVisible.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"setTooltipVisible",value:function(e){this.setState({tooltipVisible:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(y.a,null,i.a.createElement(y.c,null,function(t){var a=t.ref;return i.a.createElement("span",{className:"option-info",ref:a,onMouseEnter:function(){return e.setTooltipVisible(!0)},onMouseLeave:function(){return e.setTooltipVisible(!1)}},G[e.props.option.type]," (",i.a.createElement("span",{className:"option-info-thumb",style:"0"===e.props.option.type?{backgroundImage:"url("+U+e.props.option.value+")"}:{backgroundColor:"rgba("+e.props.option.value+")"}}),")")}),this.state.tooltipVisible?i.a.createElement(y.b,{modifiers:{preventOverflow:{enabled:!1}}},function(t){var a=t.ref,n=t.style,s=t.placement,o=t.arrowProps;return i.a.createElement("div",{className:"info-tooltip",ref:a,style:n,"data-placement":s},i.a.createElement("div",{className:"tooltip-image",style:"0"===e.props.option.type?{backgroundImage:"url("+U+e.props.option.value+")"}:{backgroundColor:"rgba("+e.props.option.value+")"}}),i.a.createElement("div",{ref:o.ref,style:o.style}))}):null)}}]),t}(i.a.Component),X=function(){function e(t){Object(p.a)(this,e),this.id=t.id,this.uid=t.uid,this.filename=t.name,this.options=t.options}return Object(u.a)(e,[{key:"getTableObject",value:function(){var e={c1:this.uid,c2:i.a.createElement(r.b,{to:this.id,className:"column-name"},this.filename)},t=[];return e.c3=this.options.map(function(e){if(!t.includes(e.id))return t.push(e.id),i.a.createElement("div",{key:e.id,className:"column-option"},i.a.createElement(W,{option:new K(e)}))}),e}}]),e}(),K=function(){function e(t){Object(p.a)(this,e),this.id=t.id,this.name=t.name,this.type=t.type,this.value=t.value,this.obj3d=t.object3d}return Object(u.a)(e,[{key:"getTableObject",value:function(){return{c0:this.id,c1:i.a.createElement("span",{className:"option-thumb-big",style:"0"===this.type?{backgroundImage:"url("+U+this.value+")"}:{backgroundColor:"rgba("+this.value+")"}}),c2:this.name,c3:i.a.createElement(J,{option:this})}}}]),e}(),q=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={labelText:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",canClear:!1},a.baseLabel="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",a.inputRef=i.a.createRef(),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.chooseFile=a.chooseFile.bind(Object(h.a)(a)),a.clearFile=a.clearFile.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"chooseFile",value:function(e){e.preventDefault(),this.inputRef.current.click()}},{key:"clearFile",value:function(e){e.preventDefault(),this.inputRef.current.value=null,this.setState({labelText:this.baseLabel,canClear:!1}),this.props.onChange(null)}},{key:"handleChange",value:function(e){var t=e.target.files;t&&t.length>0&&(1===t.length?this.setState({labelText:t[0].name}):this.setState({labelText:"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u0439\u043b\u043e\u0432"}),this.setState({canClear:!0})),this.props.onChange(e.target.files)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("input",{className:"input-file",id:"object",type:"file",name:"file",onChange:this.handleChange,multiple:!0,ref:this.inputRef}),i.a.createElement("label",{className:"input custom-file "+(this.state.canClear?"cf-filled":"cf-empty"),htmlFor:"object"},this.state.labelText),this.state.canClear?i.a.createElement("button",{className:"cf-button",onClick:this.clearFile},i.a.createElement(f.a,{icon:O.j})):null,i.a.createElement("button",{className:"cf-button",onClick:this.chooseFile},i.a.createElement(f.a,{icon:O.e})))}}]),t}(i.a.Component),_=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={modalVisible:!1,objects:[]},F("main.php?action=objects").then(function(e){var t=e.map(function(e){return new X(e)});a.setState({objects:t})}),a.setModalVisible=a.setModalVisible.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"handleDelete",value:function(e){F("main.php?action=objectdel&id="+this.state.objects[e].id),this.state.objects.splice(e,1),this.setState({})}},{key:"handleChange",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"container content"},this.state.modalVisible?i.a.createElement(z,{setVisible:this.setModalVisible},i.a.createElement("form",{action:U+"main.php?action=objectadd",method:"POST",enctype:"multipart/form-data"},i.a.createElement("div",{className:"form-label"},"\u0424\u0430\u0439\u043b"),i.a.createElement(q,{onChange:this.handleChange}),i.a.createElement("div",{className:"button-row"},i.a.createElement("button",{className:"button button-primary"},i.a.createElement(f.a,{icon:O.a})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")))):null,i.a.createElement(Q,{catName:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b",setModalVisible:this.setModalVisible,objCount:this.state.objects.length}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col page-wrapper"},i.a.createElement(P,{headers:["UID","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",""],items:this.state.objects,onDelete:this.handleDelete}))))}}]),t}(i.a.Component),$=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={modalVisible:!1,cpVisible:!1,currentColor:{r:255,g:255,b:255},newName:"",newFile:null,options:[]},F("main.php?action=options").then(function(e){var t=e.map(function(e){return new K(e)});a.setState({options:t})}),a.setModalVisible=a.setModalVisible.bind(Object(h.a)(a)),a.setCPVisible=a.setCPVisible.bind(Object(h.a)(a)),a.switchCP=a.switchCP.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.changeColor=a.changeColor.bind(Object(h.a)(a)),a.addOption=a.addOption.bind(Object(h.a)(a)),a.nameChange=a.nameChange.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.fileChange=a.fileChange.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"changeColor",value:function(e){this.setState({currentColor:e.rgb})}},{key:"switchCP",value:function(e){e.preventDefault(),this.setState(function(e){return{cpVisible:!e.cpVisible}})}},{key:"setCPVisible",value:function(e){this.setState({cpVisible:e})}},{key:"handleChange",value:function(e){var t=e.target.files;t&&this.setState({labelText:t[0].name})}},{key:"rgbaStr",value:function(e){return"".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a)}},{key:"addOption",value:function(e){var t=this;if(!this.state.newFile){e.preventDefault();var a=this.state.newFile?this.state.newFile:this.rgbaStr(this.state.currentColor);this.setModalVisible(!1);var n=new FormData;n.append("name",this.state.newName),this.state.newFile?n.append("file",this.state.newFile):n.append("value",a),F("main.php?action=optionadd",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},referrer:"no-referrer",body:new URLSearchParams(n)}).then(function(e){t.state.options.push(new K({id:e.id,name:t.state.newName,type:"1",value:a})),t.setState({})})}}},{key:"nameChange",value:function(e){this.setState({newName:e.target.value})}},{key:"fileChange",value:function(e){this.setState({newFile:e})}},{key:"handleDelete",value:function(e){F("main.php?action=optiondel&id="+this.state.options[e].id),this.state.options.splice(e,1),this.setState({})}},{key:"render",value:function(){var e={backgroundColor:"rgba("+this.rgbaStr(this.state.currentColor)+")"};return i.a.createElement("div",{className:"container content"},this.state.modalVisible?i.a.createElement(z,{setVisible:this.setModalVisible},i.a.createElement("form",{action:U+"main.php?action=optionadd",method:"POST",encType:"multipart/form-data"},i.a.createElement("div",{className:"form-label"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),i.a.createElement("input",{className:"input",type:"text",name:"name",value:this.state.newName,onChange:this.nameChange}),i.a.createElement("div",{className:"form-label"},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),i.a.createElement(q,{onChange:this.fileChange}),i.a.createElement("div",{className:"or"},"\u0418\u041b\u0418"),i.a.createElement("input",{name:"value",type:"hidden",value:this.rgbaStr(this.state.currentColor)}),i.a.createElement("div",{className:"input input-color",style:e,onClick:this.switchCP}),i.a.createElement("button",{className:"cf-button",onClick:this.switchCP},i.a.createElement(f.a,{icon:O.d})),this.state.cpVisible?i.a.createElement(g.SketchPicker,{presetColors:[],width:"230px",color:this.state.currentColor,className:"color-picker",onChangeComplete:this.changeColor}):null,i.a.createElement("div",{className:"button-row"},i.a.createElement("button",{className:"button button-primary",onClick:this.addOption},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))):null,i.a.createElement(Q,{catName:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",setModalVisible:this.setModalVisible,objCount:this.state.options.length}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col page-wrapper"},i.a.createElement(P,{headers:["","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435",""],items:this.state.options,onDelete:this.handleDelete}))))}}]),t}(i.a.Component),ee=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("p",null,"Logged out.")}}]),t}(i.a.Component),te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={selectedObject:null,allOptions:{},options:{},selectedOptions:[],modalVisible:!1,currentObject:null,activeOptions:{}},a.viewer=i.a.createRef(),F("main.php?action=object&id="+a.props.match.params.id).then(function(e){a.setState({currentObject:e})}),F("main.php?action=objopt&id="+a.props.match.params.id).then(function(e){a.setState({options:e})}),F("main.php?action=options").then(function(e){var t={};e.forEach(function(e){t[e.id]=e}),a.setState({allOptions:t})}),a.handleSelect=a.handleSelect.bind(Object(h.a)(a)),a.deleteOption=a.deleteOption.bind(Object(h.a)(a)),a.setModalVisible=a.setModalVisible.bind(Object(h.a)(a)),a.selectOption=a.selectOption.bind(Object(h.a)(a)),a.addSelectedOptions=a.addSelectedOptions.bind(Object(h.a)(a)),a.previewOption=a.previewOption.bind(Object(h.a)(a)),a.stopPreview=a.stopPreview.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"isOptionUsed",value:function(e,t){if(!t)return!1;for(var a=0;a<t.length;a++)if(t[a].id===e)return!0;return!1}},{key:"selectOption",value:function(e){if(this.state.selectedOptions.includes(e)){var t=this.state.selectedOptions.indexOf(e);this.state.selectedOptions.splice(t,1)}else this.state.selectedOptions.push(e);this.setState({})}},{key:"deleteOption",value:function(e){var t=this.state.selectedObject.material.name,a=this.state.options[t][e];F("main.php?action=objdelopt&obj_id="+this.state.currentObject.id+"&opt_id="+a.id),this.state.options[t].splice(e,1),this.setState({})}},{key:"handleSelect",value:function(e){this.setState({selectedObject:e}),console.log(e)}},{key:"addSelectedOptions",value:function(){var e=this;if(this.state.selectedObject){var t=this.state.selectedObject.material.name;t in this.state.options||(this.state.options[t]=[]),this.state.selectedOptions.forEach(function(a){var n=e.state.allOptions[a];n.obj3d=e.state.selectedObject.name,e.state.options[t].push(n);var i=new FormData;i.append("object_id",e.state.currentObject.id),i.append("material",e.state.selectedObject.material.name),i.append("object_3d",e.state.selectedObject.name),i.append("option_id",a),F("main.php?action=objaddopt",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},referrer:"no-referrer",body:new URLSearchParams(i)})}),this.setState({selectedOptions:[]}),this.setModalVisible(!1)}}},{key:"previewOption",value:function(e){this.state.activeOptions[e.obj3d]=e,this.setState({})}},{key:"stopPreview",value:function(e){delete this.state.activeOptions[e],this.setState({})}},{key:"render",value:function(){var e=this,t=[];this.state.selectedObject&&(t=this.state.options[this.state.selectedObject.material.name]);var a=null,n=Object.values(this.state.allOptions).map(function(n){var s=e.isOptionUsed(n.id,t);return a||s||(a=n),s?null:i.a.createElement("div",{key:n.id,className:"list-option"+(e.state.selectedOptions.includes(n.id)?" selected-option":""),onClick:function(){return e.selectOption(n.id)}},i.a.createElement(W,{option:n}))});return i.a.createElement("div",{className:"container"},this.state.modalVisible?i.a.createElement(z,{setVisible:this.setModalVisible},i.a.createElement("div",{className:"search-wrapper"},i.a.createElement("input",{type:"text",className:"input input-search",placeholder:"\u041f\u043e\u0438\u0441\u043a"}),i.a.createElement(f.a,{className:"search-icon",icon:O.h})),i.a.createElement("div",{className:"options-list"},n),i.a.createElement("button",{className:"button button-primary",onClick:this.addSelectedOptions,disabled:0===this.state.selectedOptions.length},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")):null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement(ae,{className:"preview",onSelect:this.handleSelect,activeOptions:Object.values(this.state.activeOptions),fileUrl:this.state.currentObject?U+this.state.currentObject.path:null,viewerOptions:{type:"EDITOR"}}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement(ne,{options:this.state.options,preview:this.previewOption,activeOptions:this.state.activeOptions,object:this.state.selectedObject,delete:this.deleteOption,stopPreview:this.stopPreview}),this.state.selectedObject&&a?i.a.createElement("div",{className:"option-add",onClick:function(){return e.setModalVisible(!0)}},i.a.createElement(W,{option:a}),i.a.createElement("span",{className:"expand-arrow"},"\u25bc")):null)))}}]),t}(i.a.Component),ae=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={currentOption:null},a.canvas=i.a.createRef(),a.defaultOptions={},a.getIntersects=a.getIntersects.bind(Object(h.a)(a)),a.mouseMove=a.mouseMove.bind(Object(h.a)(a)),a.click=a.click.bind(Object(h.a)(a)),a.selectObject=a.selectObject.bind(Object(h.a)(a)),a.setTexture=a.setTexture.bind(Object(h.a)(a)),a.addDefaultOptions=a.addDefaultOptions.bind(Object(h.a)(a)),a.applyActiveOptions=a.applyActiveOptions.bind(Object(h.a)(a)),a.setDefaultOpt=a.setDefaultOpt.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"addDefaultOptions",value:function(e){var t=this;this.props.activeOptions.forEach(function(a){if(!(a.obj3d in t.defaultOptions)){var n=e.getObjectByName(a.obj3d);t.defaultOptions[a.obj3d]={color:n.material.color.clone()},n.material.map&&(t.defaultOptions[a.obj3d].mat=n.material.map)}})}},{key:"applyActiveOptions",value:function(e){var t=this;this.props.activeOptions.forEach(function(a){var n=e.getObjectByName(a.obj3d);t.setDefaultOpt(n),"0"===a.type?t.setTexture(n,U+a.value):t.setColor(n,new E.k("rgb("+a.value+")"))})}},{key:"setDefaultOpt",value:function(e){if(e.name in this.defaultOptions){var t=this.defaultOptions[e.name];e.material.color.copy(t.color),"mat"in t&&(e.material.map=t.mat)}}},{key:"componentDidMount",value:function(){this.viewer=new x(this.canvas.current,this.props.viewerOptions),this.selObjMatColor=new E.k,this.origMatColor=new E.k,this.rcNeedsUpdate=!0,this.raycaster=new E.yb,this.mouseVector=new E.Xb,this.props.fileUrl&&(this.viewer.sload(this.props.fileUrl),this.addDefaultOptions(this.viewer.content),this.applyActiveOptions(this.viewer.content))}},{key:"componentDidUpdate",value:function(e){for(var t in this.props.fileUrl&&e.fileUrl!==this.props.fileUrl&&this.viewer.sload(this.props.fileUrl),this.addDefaultOptions(this.viewer.content),this.defaultOptions)this.setDefaultOpt(this.viewer.content.getObjectByName(t));this.applyActiveOptions(this.viewer.content)}},{key:"getIntersects",value:function(e,t){e=e/this.rcRect.width*2-1,t=-t/this.rcRect.height*2+1,this.mouseVector.set(e,t,.5),this.raycaster.setFromCamera(this.mouseVector,this.viewer.activeCamera);try{return this.raycaster.intersectObject(this.viewer.content,!0)}catch(a){return[]}}},{key:"mouseMove",value:function(e){e.preventDefault(),this.rcNeedsUpdate&&(this.rcRect=e.target.getBoundingClientRect(),this.rcNeedsUpdate=!1),this.rcObject&&(this.rcObject!==this.selectedObject&&this.rcObject.material.color.copy(this.origMatColor),this.rcObject=null);var t=this.getIntersects(e.clientX-this.rcRect.left,e.clientY-this.rcRect.top);if(t.length>0){var a=t.filter(function(e){return e&&e.object})[0];a&&a.object&&(this.rcObject=a.object,this.origMatColor.copy(this.rcObject.material.color))}}},{key:"click",value:function(){this.rcObject?(this.selectedObject&&this.selectedObject!==this.rcObject&&this.selectedObject.material.color.copy(this.selObjMatColor),this.selectObject(this.rcObject)):this.selectedObject&&(this.selectedObject.material.color.copy(this.selObjMatColor),this.selectedObject=null,this.props.onSelect(null))}},{key:"selectObject",value:function(e){this.selectedObject=e,this.selObjMatColor.copy(this.origMatColor),this.props.onSelect(e)}},{key:"setTexture",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.viewer.textureLoader.load(t);a&&(n.wrapT=E.Bb,n.wrapS=E.Bb,n.repeat.set(10,10)),e.material.map=n}},{key:"setColor",value:function(e,t){e.material.color.copy(t)}},{key:"render",value:function(){return i.a.createElement("canvas",{id:"3d",className:this.props.className,ref:this.canvas,onMouseMove:this.mouseMove,onClick:this.click})}}]),t}(i.a.Component),ne=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=null,a=this.props.object,n={id:0,name:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439"};if(a){a.material.map?(n.type="0",n.value=a.material.map.image):(n.type="1",n.value="#"+a.material.color.getHexString());var s=a.material.name;s in this.props.options&&(t=this.props.options[s].map(function(t,a){return i.a.createElement(ie,{key:t.id,option:t,index:a,delete:e.props.delete,preview:e.props.preview,stopPreview:e.props.stopPreview,activeOptions:e.props.activeOptions})}))}return a?i.a.createElement("div",null,i.a.createElement("h2",{className:"object-name"},a.material.name),i.a.createElement("div",{className:"option-items"},i.a.createElement(ie,{option:n}),t)):null}}]),t}(i.a.Component),ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).imgWrap=i.a.createRef(),a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"createBox",value:function(e){return 0===e.id?"0"===e.type?(e.value.className="option-box",i.a.createElement("span",{ref:this.imgWrap})):i.a.createElement("span",{className:"option-box",style:{backgroundColor:"#"+this.props.option.value}}):i.a.createElement("span",{className:"option-box",style:"0"===e.type?{backgroundImage:"url("+U+this.props.option.value+")"}:{backgroundColor:"rgba("+this.props.option.value+")"}})}},{key:"render",value:function(){var e=this,t=this.props.activeOptions&&this.props.option.obj3d in this.props.activeOptions&&this.props.activeOptions[this.props.option.obj3d].id===this.props.option.id;return i.a.createElement("div",{className:"option-item"},this.createBox(this.props.option),this.props.option.name,this.props.preview?i.a.createElement("button",{className:"button "+(t?"button-gray-inv":"button-gray"),onClick:function(){t?e.props.stopPreview(e.props.option.obj3d):e.props.preview(e.props.option)}},i.a.createElement(f.a,{icon:O.c})):null,this.props.delete?i.a.createElement("button",{className:"button button-gray",onClick:function(){return e.props.delete(e.props.index)}},i.a.createElement(f.a,{icon:O.j})):null)}}]),t}(i.a.Component);var se=function(){return i.a.createElement(r.a,null,i.a.createElement(Y,null),i.a.createElement("div",{className:"page"},i.a.createElement(j.a,{exact:!0,path:"/objects/",component:_}),i.a.createElement(j.a,{path:"/objects/:id",component:te}),i.a.createElement(j.a,{exact:!0,path:"/options/",component:$}),i.a.createElement(j.a,{path:"/logout",component:ee})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(r.a,null,i.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[127,1,2]]]);
//# sourceMappingURL=main.6e5a7d98.chunk.js.map